<form base="http://pfarrerbuch.de/" prefix="bio http://vocab.org/bio/0.1/ hp: http://purl.org/vok/hp/ foaf ... hp ... rdfs ... rdf ...">
    <legend>l(Pfarrer)</legend>
    <div typeof="foaf:Person" resource="{pid}">
        <!-- hidden person name -->
        <input name="pid" type="hidden" value="{foaf:name}" />

        <label>l(ist Geistlicher)</label>
        <input type="literal" boolean name="hp:isPastor" datatype="xsd:boolean" />

        <label>Label:</label>
        <input type="literal" name="rdfs:label" value="{foaf:name} (*{hp:birthDate} †{hp:dateOfDeath})" datatype="xsd:string" readonly required />

        <label>l(Nachname:)</label>
        <input type="literal" name="foaf:name" value="{foaf:firstName} {foaf:lastName}" datatype="xsd:string" required />

        <label>l(Vorname:)</label>
        <input type="literal" name="foaf:firstName" datatype="xsd:string" required />

        <label>Alternativer Vorname:</label>
        <input type="literal" name="foaf:firstNameAlt" datatype="xsd:string" />

        <label>Nachname:</label>
        <input type="literal" name="foaf:lastName" datatype="xsd:string" required />

        <label>Alternativer Nachname:</label>
        <input type="literal" name="foaf:lastNameAlt" datatype="xsd:string" />

        <!--<select type="literal" name="foaf:gender" datatype="xsd:string">
            <option value="undefined">K.a.</option>
            <option value="man">Mann</option>
            <option value="woman">Frau</option>            
        </select>-->

        <label>Geschlecht (select):</label>
        <input type="literal" select name="foaf:gender" datatype="xsd:string"
            select-options='["k.A.", "Frau", "Mann"]'
        />

        <label>Geschlecht (autocomplete):</label>
        <input type="literal" name="foaf:gender" datatype="xsd:string" autocomplete
            query-apitype="local"
            query-values='["k.A.", "Frau", "Mann"]'
        />        

        <label>Geburtsdatum:</label>
        <input type="literal" name="hp:birthDate" datatype="xsd:date" placeholder="JJJJ-MM-TT" />

        <label>Geburtsort:</label>
        <input type="literal" name="hp:birthPlace" datatype="xsd:string" autocomplete
            query-apitype="sparql"
            query-endpoint="http://dbpedia.org/sparql"            
            query="SELECT DISTINCT * WHERE{?city rdf:type dbpedia-owl:Settlement;rdfs:label ?label;dbpedia-owl:country <http://dbpedia.org/resource/Germany>.FILTER(regex(?label,%s,'i')&&lang(?label)='de')}LIMIT 20"
        />

        <label>Taufdatum:</label>
        <input type="literal" name="hp:babtismDate" datatype="xsd:date" placeholder="JJJJ-MM-TT" />

        <label>Taufort:</label>
        <input type="literal" name="hp:babtismPlace" datatype="xsd:string" /> <!-- type="resource" autocomplete-ort /--> <!-- select places -->

        <label>Ordinationsdatum:</label>
        <input type="literal" name="hp:ordinationDate" datatype="xsd:date" placeholder="JJJJ-MM-TT" />

        <label>Ordinationsort:</label>
        <input type="literal" name="hp:ordinationPlace" datatype="xsd:string" /> <!-- type="resource" autocomplete-ort /--> <!-- select places -->

        <label>Vater:</label>
        <input type="resource" name="hp:father" external />

        <label>Mutter:</label>
        <input type="literal" name="hp:mother" datatype="xsd:string" /> <!-- resource type person --> <!-- auswahl xsd:date, xsd:gYear, … -->

        <label>Kinder:</label>
        <input type="literal" name="hp:child" datatype="xsd:string" /> <!-- resource type person --> <!-- auswahl xsd:date, xsd:gYear, … -->

        <label>Sterbedatum:</label>
        <input type="literal" name="hp:dateOfDeath" datatype="xsd:date" placeholder="JJJJ-MM-TT" />

        <label>Sterbeort:</label>
        <input type="literal" name="hp:placeOfDeath" datatype="xsd:string" autocomplete
            query-endpoint="http://dbpedia.org/sparql"
            query-apitype="sparql"
            query="SELECT DISTINCT * WHERE{?city rdf:type dbpedia-owl:Settlement;rdfs:label ?label;dbpedia-owl:country <http://dbpedia.org/resource/Germany>.FILTER(regex(?label,%s,'i')&&lang(?label)='de')}LIMIT 20"
        />

        <!--
        <input type="resource" name="hp:attendedSchool" value="SchuleQuery" title="Schule" additional multiple
            argument="pid:{pid}"            
        />  
        -->              

        <input type="resource" name="hp:attendedSchool" value="EventAusbildung" title="Schule" 
            arguments='{"pid":"{pid}" }' multiple additional            
        />
        <!--arguments='[{"pid":"{pid}"}]'-->

        <input type="resource" name="hp:hasPosition" value="EventPfarrstelle" title="l(Pfarrstelle)"
            arguments='{"pid":"{pid}" }' multiple additional
        />
        <!--
        <fieldset type="resource" name="hp:hasPosition" value="EventPfarrstelle" multiple>
            <pid="{pid}" />
        </fieldset>
        -->

        <label>Kommentar/Freitext:</label>
        <input type="literal" textarea name="rdfs:comment" datatype="xsd:string" multiple />
    </div>
        
    
    <!--
    <legend>Schule</legend>
    <div typeof="SchuleQuery" resource="{sid}" id="SchuleQuery"  >

        <label>Schule:</label>
        <input type="literal" name="sid" />  

        <input name="" type="resource" value="EventAusbildung"
            argument="pid:{pid} sid:{sid}"
        />        
    </div>
    -->
    <!-- tmp klasse mittels hook vor result ausgabe entfernen -->

    <legend>Schule</legend>
    <div typeof="hp:Event" resource="hp:attendingSchool-{i}-{pid}" return-resource="{rdf:object}" id="EventAusbildung">

        <label>Label:</label>
        <input type="literal" name="rdfs:label" datatype="xsd:string" value="{rdf:object} ({hp:start} – {hp:end})" /> <!-- select places -->

        <label>Person</label>
        <input type="resource" external name="rdf:subject" value="{pid}" readonly />

        <label>Beziehung</label>
        <input type="resource" external name="rdf:predicate" value="hp:attendedSchool" readonly />

        <label>Schule:</label>
        <input type="resource" external name="rdf:object" /> 

        <label>Begin:</label>
        <input type="literal" name="hp:start" datatype="xsd:date" placeholder="JJJJ-MM-TT" />

        <label>End:</label>
        <input type="literal" name="hp:end" datatype="xsd:date" placeholder="JJJJ-MM-TT" />        
    </div>    

    <legend>Stelle</legend>
    <div typeof="hp:Event" resource="hp:hasPosition-{i}-{pid}" return-resource="{rdf:object}" id="EventPfarrstelle">
        <label>Label:</label>
        <input type="literal" name="rdfs:label" datatype="xsd:string" value="{rdf:object} ({hp:start} – {hp:end})" /> <!-- select places -->

        <label>Person</label>
        <input type="resource" name="rdf:subject" value="{pid}" external readonly />

        <label>Beziehung</label>
        <input type="resource" external name="rdf:predicate" value="hp:hasPosition" readonly />
        <!-- evtl mittels stylesheet ausblenden -->

        <label>Pfarrstelle:</label>
        <input type="resource" name="rdf:object" external />

        <label>Begin:</label>
        <input type="literal" name="hp:start" datatype="xsd:date" placeholder="JJJJ-MM-TT" />

        <label>End:</label>
        <input type="literal" name="hp:end" datatype="xsd:date" placeholder="JJJJ-MM-TT" />        
    </div>

</form> 